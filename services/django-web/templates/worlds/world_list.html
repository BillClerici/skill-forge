{% extends "base.html" %}

{% block title %}Worlds - SkillForge RPG{% endblock %}

{% block content %}
<div class="row">
    <div class="col s12">
        <h3 style="color: var(--rpg-gold); text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);">
            <i class="material-icons left" style="font-size: 2.5rem;">map</i>
            Worlds
        </h3>
    </div>
</div>

<div class="row">
    <div class="col s12">
        <a href="{% url 'world_create' %}" class="btn-large waves-effect waves-light">
            <i class="material-icons left">add</i>Create World
        </a>
    </div>
</div>

<div class="row">
    {% if worlds %}
        {% for world in worlds %}
        <div class="col s12 m6 l4">
            <div class="card hoverable">
                <div class="card-content">
                    <span class="card-title">{{ world.world_name }}</span>

                    <div style="margin: 16px 0;">
                        <div class="chip">
                            <i class="material-icons tiny">public</i>
                            {{ world.universe.universe_name }}
                        </div>
                        {% if world.genre %}
                        <div class="chip">
                            <i class="material-icons tiny">category</i>
                            {{ world.genre }}
                        </div>
                        {% endif %}
                    </div>

                    {% if world.setting %}
                    <p style="margin-top: 16px; min-height: 60px; color: #b8b8d1;">
                        {{ world.setting|truncatewords:20 }}
                    </p>
                    {% endif %}

                    {% if world.themes %}
                    <div style="margin-top: 12px;">
                        {% for theme in world.themes %}
                            <span class="chip" style="background-color: rgba(106, 76, 147, 0.3); margin: 2px;">
                                {{ theme }}
                            </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="card-action" style="background: rgba(212, 175, 55, 0.05); border-top: 1px solid rgba(212, 175, 55, 0.2);">
                    <a href="{% url 'world_detail' world.world_id %}" style="color: var(--rpg-gold);">
                        <i class="material-icons tiny">visibility</i> View Details
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="col s12">
            <div class="card">
                <div class="card-content center-align">
                    <i class="material-icons large" style="font-size: 80px; color: var(--rpg-gold); opacity: 0.5;">map</i>
                    <h5 style="color: var(--rpg-gold);">No Worlds Found</h5>
                    <p style="color: #b8b8d1;">Create your first world to start building your RPG setting.</p>
                    <a href="{% url 'world_create' %}" class="btn waves-effect waves-light" style="margin-top: 20px;">
                        <i class="material-icons left">add</i>Create World
                    </a>
                </div>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
