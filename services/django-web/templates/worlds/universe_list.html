{% extends "base.html" %}

{% block title %}Universes - SkillForge RPG{% endblock %}

{% block content %}
<div class="row">
    <div class="col s12">
        <h3 style="color: var(--rpg-gold); text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);">
            <i class="material-icons left" style="font-size: 2.5rem;">public</i>
            Universes
        </h3>
    </div>
</div>

<div class="row">
    <div class="col s12">
        <a href="{% url 'universe_create' %}" class="btn-large waves-effect waves-light">
            <i class="material-icons left">add</i>Create Universe
        </a>
    </div>
</div>

<div class="row">
    {% if universes %}
        {% for universe in universes %}
        <div class="col s12 m6 l4">
            <div class="card hoverable" style="height: 100%;">
                <div class="card-content">
                    <span class="card-title" style="margin-bottom: 10px;">{{ universe.universe_name }}</span>

                    <p style="margin-bottom: 16px; min-height: 60px; color: #b8b8d1; font-size: 0.95rem;">
                        {{ universe.description|truncatewords:20 }}
                    </p>

                    <!-- World Count Badge -->
                    <div style="margin-bottom: 12px; padding: 8px 12px; background: rgba(212, 175, 55, 0.1); border-radius: 4px;">
                        <i class="material-icons tiny" style="vertical-align: middle; color: var(--rpg-gold);">map</i>
                        <span style="color: var(--rpg-gold); font-weight: 500;">{{ universe.world_count }} World{% if universe.world_count != 1 %}s{% endif %}</span>
                    </div>

                    <!-- Purpose & Target Age -->
                    {% if universe.purpose_display or universe.target_age_group %}
                    <div style="margin-bottom: 12px;">
                        {% if universe.purpose_display %}
                        <div class="chip" style="background-color: rgba(212, 175, 55, 0.2); margin-bottom: 4px;">
                            <i class="material-icons tiny">category</i>
                            {{ universe.purpose_display }}
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}

                    <!-- Ratings & Features -->
                    <div style="margin-bottom: 8px;">
                        <div class="chip" style="background-color: rgba(106, 76, 147, 0.2);">
                            <i class="material-icons tiny">star</i>
                            {{ universe.max_content_rating }}
                        </div>
                        {% if universe.reading_level %}
                        <div class="chip" style="background-color: rgba(76, 147, 106, 0.2);">
                            <i class="material-icons tiny">book</i>
                            {{ universe.reading_level }}
                        </div>
                        {% endif %}
                    </div>

                    <!-- Game Features -->
                    <div style="display: flex; gap: 8px; margin-top: 12px;">
                        {% if universe.combat_enabled %}
                        <span class="chip" style="background-color: rgba(229, 57, 53, 0.2); font-size: 0.8rem;">
                            <i class="material-icons tiny">sports_kabaddi</i> Combat
                        </span>
                        {% endif %}
                        {% if universe.romance_enabled %}
                        <span class="chip" style="background-color: rgba(233, 30, 99, 0.2); font-size: 0.8rem;">
                            <i class="material-icons tiny">favorite</i> Romance
                        </span>
                        {% endif %}
                    </div>
                </div>
                <div class="card-action" style="background: rgba(212, 175, 55, 0.05); border-top: 1px solid rgba(212, 175, 55, 0.2);">
                    <a href="{% url 'universe_detail' universe.universe_id %}" style="color: var(--rpg-gold);">
                        <i class="material-icons tiny">visibility</i> View Details
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="col s12">
            <div class="card">
                <div class="card-content center-align">
                    <i class="material-icons large" style="font-size: 80px; color: var(--rpg-gold); opacity: 0.5;">public</i>
                    <h5 style="color: var(--rpg-gold);">No Universes Found</h5>
                    <p style="color: #b8b8d1;">Create your first universe to get started building your RPG worlds.</p>
                    <a href="{% url 'universe_create' %}" class="btn waves-effect waves-light" style="margin-top: 20px;">
                        <i class="material-icons left">add</i>Create Universe
                    </a>
                </div>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
